<!DOCTYPE html>
<html>
<head>
  <title>Jujutsu Infinite Boss Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      background: #0b0b0b;
      color: #fff;
      font-family: Arial, sans-serif;
      padding: 15px;
    }
    h1, h2 { color: #ff3f3f; }
    .card {
      background: #151515;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 10px;
    }
    select, input, button {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      border-radius: 5px;
      border: none;
    }
    button {
      background: #ff3f3f;
      color: white;
      font-weight: bold;
    }
    .report {
      border-bottom: 1px solid #333;
      padding: 10px 0;
    }
    .confirmed { color: #2ecc71; }
    .unconfirmed { color: #f1c40f; }
  </style>
</head>
<body>

<h1>üïí Jujutsu Infinite Boss Tracker</h1>

<div class="card">
  <h2>‚è± Global Spawn Timer</h2>
  <p>Current Time: <span id="time"></span></p>
  <p><strong>Next Boss In:</strong> <span id="countdown"></span></p>
</div>

<div class="card">
  <h2>üì¢ Report Boss</h2>
  <select id="boss">
    <option>Egg Jaw</option>
    <option>Mantis Curse</option>
    <option>Monk of the Lake</option>
  </select>
  <input id="server" placeholder="Server / Region (US, EU, ASIA)">
  <select id="status">
    <option value="unconfirmed">Unconfirmed</option>
    <option value="confirmed">Confirmed</option>
  </select>
  <button onclick="submitReport()">Submit</button>
</div>

<div class="card">
  <h2>üìã Live Reports</h2>
  <div id="reports"></div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
// üî• PASTE YOUR FIREBASE CONFIG HERE
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  const firebaseConfig = {
  apiKey: "AIzaSyB2gHdBp7QCVavdk0zuvE7Hj7VkWEdvaWc",
  authDomain: "jujutsu-boss-tracker.firebaseapp.com",
  projectId: "jujutsu-boss-tracker",
  storageBucket: "jujutsu-boss-tracker.firebasestorage.app",
  messagingSenderId: "1007155316322",
  appId: "1:1007155316322:web:454ad7f18c32aa9a29733b"
};


firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// ‚è± TIMER
function updateTimer() {
  const now = new Date();
  document.getElementById("time").textContent = now.toLocaleTimeString();
  const next = new Date(now);
  next.setMinutes(60,0,0);
  const diff = next - now;
  document.getElementById("countdown").textContent =
    `${Math.floor(diff/60000)}m ${Math.floor((diff%60000)/1000)}s`;
}
setInterval(updateTimer,1000);
updateTimer();

// üì¢ SUBMIT
function submitReport() {
  db.ref("reports").push({
    boss: boss.value,
    server: server.value || "Unknown",
    status: status.value,
    time: new Date().toLocaleTimeString()
  });
}

// üåê LIVE UPDATES
db.ref("reports").on("value", snap => {
  reports.innerHTML = "";
  snap.forEach(child => {
    const r = child.val();
    const div = document.createElement("div");
    div.className = "report " + r.status;
    div.innerHTML = `
      <strong>${r.boss}</strong> (${r.status})<br>
      Server: ${r.server}<br>
      Time: ${r.time}
    `;
    reports.prepend(div);
  });
});
</script>

</body>
</html>